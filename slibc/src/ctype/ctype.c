#include <ctype.h>

#define PRINT_MASK  (0x0001)
#define GRAPH_MASK  (0x0002)
#define PUNCT_MASK  (0x0004)
#define ALNUM_MASK  (0x0008)
#define XDIGIT_MASK (0x0010)
#define DIGIT_MASK  (0x0020)
#define ALPHA_MASK  (0x0040)
#define LOWER_MASK  (0x0080)
#define UPPER_MASK  (0x0100)
#define SPACE_MASK  (0x0200)
#define BLANK_MASK  (0x0400)
#define CNTRL_MASK  (0x0800)

static const int ctypes[128] = {
    0x0800, 0x0800, 0x0800, 0x0800, 0x0800, 0x0800, 0x0800, 0x0800, /* 0x00 - 0x07 */
    0x0800, 0x0e00, 0x0c00, 0x0c00, 0x0c00, 0x0c00, 0x0800, 0x0800, /* 0x08 - 0x0f */
    0x0800, 0x0800, 0x0800, 0x0800, 0x0800, 0x0800, 0x0800, 0x0800, /* 0x10 - 0x17 */
    0x0800, 0x0800, 0x0800, 0x0800, 0x0800, 0x0800, 0x0800, 0x0800, /* 0x18 - 0x1f */
    0x0601, 0x0007, 0x0007, 0x0007, 0x0007, 0x0007, 0x0007, 0x0007, /* 0x20 - 0x27 */
    0x0007, 0x0007, 0x0007, 0x0007, 0x0007, 0x0007, 0x0007, 0x0007, /* 0x28 - 0x2f */
    0x003b, 0x003b, 0x003b, 0x003b, 0x003b, 0x003b, 0x003b, 0x003b, /* 0x30 - 0x37 */
    0x003b, 0x003b, 0x0007, 0x0007, 0x0007, 0x0007, 0x0007, 0x0007, /* 0x38 - 0x3f */
    0x0007, 0x015b, 0x015b, 0x015b, 0x015b, 0x015b, 0x015b, 0x014b, /* 0x40 - 0x47 */
    0x014b, 0x014b, 0x014b, 0x014b, 0x014b, 0x014b, 0x014b, 0x014b, /* 0x48 - 0x4f */
    0x014b, 0x014b, 0x014b, 0x014b, 0x014b, 0x014b, 0x014b, 0x014b, /* 0x50 - 0x57 */
    0x014b, 0x014b, 0x014b, 0x0007, 0x0007, 0x0007, 0x0007, 0x0007, /* 0x58 - 0x5f */
    0x0007, 0x00db, 0x00db, 0x00db, 0x00db, 0x00db, 0x00db, 0x00cb, /* 0x60 - 0x67 */
    0x00cb, 0x00cb, 0x00cb, 0x00cb, 0x00cb, 0x00cb, 0x00cb, 0x00cb, /* 0x68 - 0x6f */
    0x00cb, 0x00cb, 0x00cb, 0x00cb, 0x00cb, 0x00cb, 0x00cb, 0x00cb, /* 0x70 - 0x77 */
    0x00cb, 0x00cb, 0x00cb, 0x0007, 0x0007, 0x0007, 0x0007, 0x0800  /* 0x78 - 0x7f */
};

int isalnum(int c) {
    return ctypes[c] & ALNUM_MASK;
}

int isalpha(int c) {
    return ctypes[c] & ALPHA_MASK;
}

int isblank(int c) {
    return ctypes[c] & BLANK_MASK;
}

int islower(int c) {
    return ctypes[c] & LOWER_MASK;
}

int isupper(int c) {
    return ctypes[c] & UPPER_MASK;
}

int isdigit(int c) {
    return ctypes[c] & DIGIT_MASK;
}

int isxdigit(int c) {
    return ctypes[c] & XDIGIT_MASK;
}

int iscntrl(int c) {
    return ctypes[c] & CNTRL_MASK;
}

int isgraph(int c) {
    return ctypes[c] & GRAPH_MASK;
}

int isspace(int c) {
    return ctypes[c] & SPACE_MASK;
}

int isprint(int c) {
    return ctypes[c] & PRINT_MASK;
}

int ispunct(int c) {
    return ctypes[c] & PUNCT_MASK;
}

int toupper(int c) {
    return islower(c) ? c - 32 : c;
}

int tolower(int c) {
    return isupper(c) ? c + 32: c;
}
